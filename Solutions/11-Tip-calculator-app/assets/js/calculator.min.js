const CALCULATOR=document.querySelector("#calculator"),BILL=document.querySelector("#bill"),LABELS=document.querySelectorAll(".input__radio + label"),CUSTOM_TIP=document.querySelector("#custom"),PEOPLE=document.querySelector("#people"),TIP_AMOUNT=document.querySelector("#tipAmount"),TOTAL=document.querySelector("#total"),RESET=document.querySelector("#reset"),ERROR_TEXT=document.querySelector("#errorText");resetCalculator(),CALCULATOR.addEventListener("submit",a=>{a.preventDefault()}),LABELS.forEach(a=>{a.addEventListener("click",switchAttribute),a.addEventListener("keyup",switchAttribute)}),BILL.addEventListener("input",a=>{validateValue(a.target.value)}),CUSTOM_TIP.addEventListener("input",a=>{validateValue(a.target.value)}),PEOPLE.addEventListener("input",a=>{validateValue(a.target.value,!0)});const showValue=()=>{let a=Number(BILL.value),c=Number(CUSTOM_TIP.value),b=Number(PEOPLE.value),d=CALCULATOR.querySelector(".input__radio[checked]");if(d||c){let h=c||Number(d.value);if(a&&b){RESET.removeAttribute("disabled");let e=a*h/100,f=e/b,g=(a+e)/b;TIP_AMOUNT.innerHTML=`$${f.toFixed(2)}`,TOTAL.innerHTML=`$${g.toFixed(2)}`,TIP_AMOUNT.setAttribute("title",`$${f.toFixed(2)}`),TOTAL.setAttribute("title",`$${g.toFixed(2)}`)}}};function switchAttribute(a){let c=a.target.previousElementSibling,d=CUSTOM_TIP.value,b=CALCULATOR.querySelector(".input__radio[checked]");(" "===a.key||"click"===a.type)&&(b&&b.removeAttribute("checked"),d&&(CUSTOM_TIP.value=null),c.setAttribute("checked","")),showValue()}function resetTip(){let a=CALCULATOR.querySelector(".input__radio[checked]");a&&a.removeAttribute("checked")}function resetOutput(){TIP_AMOUNT.innerHTML="$0.00",TOTAL.innerHTML="$0.00",TIP_AMOUNT.setAttribute("title","$0.00"),TOTAL.setAttribute("title","$0.00")}function resetCalculator(){let a=CALCULATOR.querySelector(".input__radio[checked]");a&&a.removeAttribute("checked"),CALCULATOR.reset(),RESET.setAttribute("disabled",""),PEOPLE.classList.remove("input--error"),resetOutput()}function validateValue(a,b){if(b&&(0!==a.length&&0==a?(PEOPLE.classList.add("input--error"),ERROR_TEXT.innerHTML="Can't be zero",resetOutput()):PEOPLE.classList.remove("input--error")),a<=0){resetOutput();return}showValue()}CUSTOM_TIP.addEventListener("input",resetTip),RESET.addEventListener("click",resetCalculator)
