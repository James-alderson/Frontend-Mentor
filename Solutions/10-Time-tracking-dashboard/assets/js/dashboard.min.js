const CURRENTS=document.querySelectorAll(".dashboard__duration--current"),PREVIOUS=document.querySelectorAll(".dashboard__duration--previous"),PARENT_BTNS=document.querySelector(".dashboard__timeframes"),BTNS=Array.from(PARENT_BTNS.children),PRELOADER=document.querySelector(".loader"),DATA_URL="data.json",DELAY=500;function switchClass(a){a.addEventListener("click",b=>{let a=b.target,c=a.getAttribute("id"),d=PARENT_BTNS.querySelector(".dashboard__btn--active");a.classList.contains("dashboard__btn--active")||(d.classList.remove("dashboard__btn--active"),a.classList.add("dashboard__btn--active"),getReports(c))})}function getReports(b){let a=0;buttonStatus(a),fetch(DATA_URL).then(b=>(buttonStatus(a=b.status),b.json())).then(a=>{setReports(a,b)})}function setReports(a,b){setTimeout(()=>{CURRENTS.forEach((c,d)=>{"timeframeDaily"===b&&(c.innerHTML=`${a[d].timeframes.daily.current}hrs`),"timeframeWeekly"===b&&(c.innerHTML=`${a[d].timeframes.weekly.current}hrs`),"timeframeMonthly"===b&&(c.innerHTML=`${a[d].timeframes.monthly.current}hrs`)}),PREVIOUS.forEach((c,d)=>{"timeframeDaily"===b&&(c.innerHTML=`Last Day - ${a[d].timeframes.daily.previous}hrs`),"timeframeWeekly"===b&&(c.innerHTML=`Last Week - ${a[d].timeframes.weekly.previous}hrs`),"timeframeMonthly"===b&&(c.innerHTML=`Last Month - ${a[d].timeframes.monthly.previous}hrs`)})},500)}function buttonStatus(a){0===a&&BTNS.forEach(a=>{a.setAttribute("disabled","true")}),setTimeout(()=>{statusCode=a,200===a&&BTNS.forEach(a=>{a.removeAttribute("disabled")})},500)}function loadWindow(){let a=0;fetch(DATA_URL).then(b=>(a=b.status,b.json())).then(b=>{200===a&&(CURRENTS.forEach((a,c)=>{a.innerHTML=`${b[c].timeframes.weekly.current}hrs`}),PREVIOUS.forEach((a,c)=>{a.innerHTML=`Last Week - ${b[c].timeframes.weekly.previous}hrs`}),loaderStatus(a))})}function loaderStatus(a){200===a&&(PRELOADER.classList.add("hidden"),document.body.style.overflow="visible",setTimeout(()=>{PRELOADER.style.display="none"},500))}window.addEventListener("load",loadWindow),BTNS.forEach(a=>{switchClass(a)})